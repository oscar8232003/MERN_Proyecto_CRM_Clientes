{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oscar\\\\Desktop\\\\Node_ReactJS\\\\Front-end-app\\\\src\\\\components\\\\pedidos\\\\Pedidos.js\";\nimport React, { useState, useEffect } from \"react\";\nimport clienteAxios from \"../../config/axios\";\nimport { verificacionToken } from \"../../config/jwt\";\nimport { withRouter } from \"react-router-dom\"; //Import de componentes\n\nimport Pedido from \"./Pedido\";\n\nconst Pedidos = props => {\n  const [pedidos, setPedidos] = useState([]);\n  const [usuario, setUsuario] = useState({}); //Traemos el Token del localStorage, tiene que ser directo sino toma el token expirado\n\n  const Token = localStorage.getItem(\"token\"); //Verificamos el Token si es valido o no\n\n  const verificar = verificacionToken(Token);\n\n  const consultarAPI = async () => {\n    const resultado = await clienteAxios.get(\"/pedidos\", {\n      headers: {\n        Authorization: `Bearer ${Token}`\n      }\n    });\n    setPedidos(resultado.data);\n  };\n\n  useEffect(() => {\n    if (verificar.error) {\n      props.history.push(\"/iniciar-sesion\");\n    }\n\n    setUsuario(verificar);\n    consultarAPI();\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Pedidos\"), React.createElement(\"ul\", {\n    className: \"listado-pedidos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, pedidos.map(pedido => React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"pedido\"), React.createElement(Pedido, {\n    pedido: pedido,\n    key: pedido._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })))));\n};\n\nexport default withRouter(Pedidos);","map":{"version":3,"sources":["C:/Users/oscar/Desktop/Node_ReactJS/Front-end-app/src/components/pedidos/Pedidos.js"],"names":["React","useState","useEffect","clienteAxios","verificacionToken","withRouter","Pedido","Pedidos","props","pedidos","setPedidos","usuario","setUsuario","Token","localStorage","getItem","verificar","consultarAPI","resultado","get","headers","Authorization","data","error","history","push","map","pedido","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AACA,SAASC,iBAAT,QAAkC,kBAAlC;AACA,SAASC,UAAT,QAA2B,kBAA3B,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,OAAO,GAAGC,KAAK,IAAI;AACvB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC,CAFuB,CAIvB;;AACA,QAAMY,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CALuB,CAMvB;;AACA,QAAMC,SAAS,GAAGZ,iBAAiB,CAACS,KAAD,CAAnC;;AAEA,QAAMI,YAAY,GAAG,YAAY;AAC/B,UAAMC,SAAS,GAAG,MAAMf,YAAY,CAACgB,GAAb,CAAiB,UAAjB,EAA6B;AACnDC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASR,KAAM;AADxB;AAD0C,KAA7B,CAAxB;AAKAH,IAAAA,UAAU,CAACQ,SAAS,CAACI,IAAX,CAAV;AACD,GAPD;;AASApB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIc,SAAS,CAACO,KAAd,EAAqB;AACnBf,MAAAA,KAAK,CAACgB,OAAN,CAAcC,IAAd,CAAmB,iBAAnB;AACD;;AACDb,IAAAA,UAAU,CAACI,SAAD,CAAV;AACAC,IAAAA,YAAY;AACb,GANQ,EAMN,EANM,CAAT;AAQA,SACE,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAGE;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,OAAO,CAACiB,GAAR,CAAYC,MAAM,IACjB,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE,oBAAC,MAAD;AAAQ,IAAA,MAAM,EAAEA,MAAhB;AAAwB,IAAA,GAAG,EAAEA,MAAM,CAACC,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADD,CADH,CAHF,CADF;AAcD,CAxCD;;AA0CA,eAAevB,UAAU,CAACE,OAAD,CAAzB","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport clienteAxios from \"../../config/axios\";\r\nimport { verificacionToken } from \"../../config/jwt\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n//Import de componentes\r\nimport Pedido from \"./Pedido\";\r\n\r\nconst Pedidos = props => {\r\n  const [pedidos, setPedidos] = useState([]);\r\n  const [usuario, setUsuario] = useState({});\r\n\r\n  //Traemos el Token del localStorage, tiene que ser directo sino toma el token expirado\r\n  const Token = localStorage.getItem(\"token\");\r\n  //Verificamos el Token si es valido o no\r\n  const verificar = verificacionToken(Token);\r\n\r\n  const consultarAPI = async () => {\r\n    const resultado = await clienteAxios.get(\"/pedidos\", {\r\n      headers: {\r\n        Authorization: `Bearer ${Token}`\r\n      }\r\n    });\r\n    setPedidos(resultado.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (verificar.error) {\r\n      props.history.push(\"/iniciar-sesion\");\r\n    }\r\n    setUsuario(verificar);\r\n    consultarAPI();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h2>Pedidos</h2>\r\n\r\n      <ul className=\"listado-pedidos\">\r\n        {pedidos.map(pedido => (\r\n          <>\r\n            <h2>pedido</h2>\r\n            <Pedido pedido={pedido} key={pedido._id}></Pedido>\r\n          </>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(Pedidos);\r\n"]},"metadata":{},"sourceType":"module"}