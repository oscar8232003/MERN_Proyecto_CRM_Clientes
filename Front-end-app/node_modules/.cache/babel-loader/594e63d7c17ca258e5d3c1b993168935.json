{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oscar\\\\Desktop\\\\Node\\\\Node_ReactJS\\\\Front-end-app\\\\src\\\\components\\\\productos\\\\Producto.js\";\nimport React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport clienteAxios from \"../../config/axios\";\nimport { verificacionToken } from \"../../config/jwt\";\n\nconst Producto = ({\n  producto,\n  consultarAPI,\n  history\n}) => {\n  //Destructuring\n  const {\n    _id,\n    nombre,\n    precio,\n    imagen\n  } = producto; //Traemos el Token del localStorage, tiene que ser directo sino toma el token expirado\n\n  const Token = localStorage.getItem(\"token\"); //Verificamos el Token si es valido o no\n\n  const verificar = verificacionToken(Token); //Funcion para eliminar producto\n\n  const eliminarProducto = id => {\n    Swal.fire({\n      title: \"Estas de segur@ de eliminar este producto?\",\n      text: \"Si lo eliminas, no volveras a recuperarlo\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Si, Borrar\",\n      cancelButtonText: \"Me arrepenti\"\n    }).then(result => {\n      if (result.value) {\n        clienteAxios.delete(`/productos/${id}`, {\n          headers: {\n            Authorization: `Bearer ${Token}`\n          }\n        }).then(response => {\n          consultarAPI();\n          Swal.fire(\"Listo!\", \"El producto ha sido eliminado\", \"success\");\n        }).catch(response => {\n          Swal.fire(\"Lo siento!\", \"El producto no pudo eliminarse\", \"error\");\n\n          if (verificar.error) {\n            history.push(\"/iniciar-sesion\");\n          }\n        });\n      }\n    });\n  };\n\n  return React.createElement(\"li\", {\n    className: \"producto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"info-producto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"nombre\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, nombre), React.createElement(\"p\", {\n    className: \"precio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"$\", precio), imagen ? React.createElement(\"img\", {\n    src: `${process.env.REACT_APP_BACKEND_URL}/${imagen}`,\n    alt: nombre,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }) : null), React.createElement(\"div\", {\n    className: \"acciones\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: `/productos/editar/${_id}`,\n    className: \"btn btn-azul\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-pen-alt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), \"Editar Producto\"), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-rojo btn-eliminar\",\n    onClick: () => eliminarProducto(_id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-times\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), \"Eliminar Producto\")));\n};\n\nexport default withRouter(Producto);","map":{"version":3,"sources":["C:/Users/oscar/Desktop/Node/Node_ReactJS/Front-end-app/src/components/productos/Producto.js"],"names":["React","Link","withRouter","Swal","clienteAxios","verificacionToken","Producto","producto","consultarAPI","history","_id","nombre","precio","imagen","Token","localStorage","getItem","verificar","eliminarProducto","id","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","value","delete","headers","Authorization","response","catch","error","push","process","env","REACT_APP_BACKEND_URL"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport clienteAxios from \"../../config/axios\";\r\nimport { verificacionToken } from \"../../config/jwt\";\r\n\r\nconst Producto = ({ producto, consultarAPI, history }) => {\r\n  //Destructuring\r\n  const { _id, nombre, precio, imagen } = producto;\r\n  //Traemos el Token del localStorage, tiene que ser directo sino toma el token expirado\r\n  const Token = localStorage.getItem(\"token\");\r\n  //Verificamos el Token si es valido o no\r\n  const verificar = verificacionToken(Token);\r\n\r\n  //Funcion para eliminar producto\r\n  const eliminarProducto = id => {\r\n    Swal.fire({\r\n      title: \"Estas de segur@ de eliminar este producto?\",\r\n      text: \"Si lo eliminas, no volveras a recuperarlo\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Si, Borrar\",\r\n      cancelButtonText: \"Me arrepenti\"\r\n    }).then(result => {\r\n      if (result.value) {\r\n        clienteAxios\r\n          .delete(`/productos/${id}`, {\r\n            headers: {\r\n              Authorization: `Bearer ${Token}`\r\n            }\r\n          })\r\n          .then(response => {\r\n            consultarAPI();\r\n            Swal.fire(\"Listo!\", \"El producto ha sido eliminado\", \"success\");\r\n          })\r\n          .catch(response => {\r\n            Swal.fire(\"Lo siento!\", \"El producto no pudo eliminarse\", \"error\");\r\n            if (verificar.error) {\r\n              history.push(\"/iniciar-sesion\");\r\n            }\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <li className=\"producto\">\r\n      <div className=\"info-producto\">\r\n        <p className=\"nombre\">{nombre}</p>\r\n        <p className=\"precio\">${precio}</p>\r\n        {imagen ? (\r\n          <img\r\n            src={`${process.env.REACT_APP_BACKEND_URL}/${imagen}`}\r\n            alt={nombre}\r\n          />\r\n        ) : null}\r\n      </div>\r\n      <div className=\"acciones\">\r\n        <Link to={`/productos/editar/${_id}`} className=\"btn btn-azul\">\r\n          <i className=\"fas fa-pen-alt\"></i>\r\n          Editar Producto\r\n        </Link>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-rojo btn-eliminar\"\r\n          onClick={() => eliminarProducto(_id)}\r\n        >\r\n          <i className=\"fas fa-times\"></i>\r\n          Eliminar Producto\r\n        </button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default withRouter(Producto);\r\n"]},"metadata":{},"sourceType":"module"}